import{c as e,v as t,_ as n,b as o,d as a,H as r,P as s,J as i,M as d,N as l,e as c,f as u,g as p,z as f,A as v,B as y,w as h,O as g,E as m,K as x,Q as K,j as k,R as N,s as E,U as C,h as b,V as w,I as S,L as P,W as O}from"./index.a6f25aea.js";import{G as D,i as L,R as T}from"./vendor.985adc75.js";import{a as R,T as A,g as I,b as M,d as j,C as H,L as W,e as U,f as B,h as q,i as F,j as V,k as z,p as _,l as G,m as X,n as Y,o as J,q as Q,r as Z,s as $,t as ee,u as te}from"./conductUtil.bae92d10.js";import{a as ne,F as oe,b as ae}from"./FolderOutlined.ec014ce8.js";var re=function(e){return e?"function"==typeof e?e():e:null};function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,o=void 0===n?document.body:n,a={},r=Object.keys(e);return r.forEach((function(e){a[e]=o.style[e]})),r.forEach((function(t){o.style[t]=e[t]})),a}var ie={},de=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),o=document.body.className;if(e){if(!n.test(o))return;return se(ie),ie={},void(document.body.className=o.replace(n,"").trim())}var a=R();if(a&&(ie=se({position:"relative",width:"calc(100% - ".concat(a,"px)")}),!n.test(o))){var r="".concat(o," ").concat(t);document.body.className=r.trim()}}},le=[],ce=new RegExp("".concat("ant-scrolling-effect"),"g"),ue=0,pe=new Map,fe=function n(o){var a=this;e(this,n),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=a.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=le.find((function(e){return e.target===a.lockTarget}));t&&a.unLock(),a.options=e,t&&(t.options=e,a.lock())},this.lock=function(){var e;if(!le.some((function(e){return e.target===a.lockTarget})))if(le.some((function(e){var t,n=e.options;return(null==n?void 0:n.container)===(null===(t=a.options)||void 0===t?void 0:t.container)})))le=[].concat(t(le),[{target:a.lockTarget,options:a.options}]);else{var n=0,o=(null===(e=a.options)||void 0===e?void 0:e.container)||document.body;(o===document.body&&window.innerWidth-document.documentElement.clientWidth>0||o.scrollHeight>o.clientHeight)&&(n=R());var r=o.className;if(0===le.filter((function(e){var t,n=e.options;return(null==n?void 0:n.container)===(null===(t=a.options)||void 0===t?void 0:t.container)})).length&&pe.set(o,se({width:0!==n?"calc(100% - ".concat(n,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:o})),!ce.test(r)){var s="".concat(r," ").concat("ant-scrolling-effect");o.className=s.trim()}le=[].concat(t(le),[{target:a.lockTarget,options:a.options}])}},this.unLock=function(){var e,t=le.find((function(e){return e.target===a.lockTarget}));if(le=le.filter((function(e){return e.target!==a.lockTarget})),t&&!le.some((function(e){var n,o=e.options;return(null==o?void 0:o.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var n=(null===(e=a.options)||void 0===e?void 0:e.container)||document.body,o=n.className;ce.test(o)&&(se(pe.get(n),{element:n}),pe.delete(n),n.className=n.className.replace(ce,"").trim())}},this.lockTarget=ue++,this.options=o},ve=0,ye=i(),he={},ge=function(e){if(!ye)return null;if(e){if("string"==typeof e)return document.querySelectorAll(e)[0];if("function"==typeof e)return e();if("object"===d(e)&&e instanceof window.HTMLElement)return e}return document.body},me=function(t){n(d,t);var i=o(d);function d(t){var n;return e(this,d),(n=i.call(this,t)).container=void 0,n.componentRef=D.exports.createRef(),n.rafId=void 0,n.scrollLocker=void 0,n.renderComponent=void 0,n.updateScrollLocker=function(e){var t=(e||{}).visible,o=n.props,a=o.getContainer,r=o.visible;r&&r!==t&&ye&&ge(a)!==n.scrollLocker.getContainer()&&n.scrollLocker.reLock({container:ge(a)})},n.updateOpenCount=function(e){var t=e||{},o=t.visible,a=t.getContainer,r=n.props,s=r.visible,i=r.getContainer;s!==o&&ye&&ge(i)===document.body&&(s&&!o?ve+=1:e&&(ve-=1)),("function"==typeof i&&"function"==typeof a?i.toString()!==a.toString():i!==a)&&n.removeCurrentContainer()},n.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||n.container&&!n.container.parentNode){var t=ge(n.props.getContainer);return!!t&&(t.appendChild(n.container),!0)}return!0},n.getContainer=function(){return ye?(n.container||(n.container=document.createElement("div"),n.attachToParent(!0)),n.setWrapperClassName(),n.container):null},n.setWrapperClassName=function(){var e=n.props.wrapperClassName;n.container&&e&&e!==n.container.className&&(n.container.className=e)},n.removeCurrentContainer=function(){var e,t;null===(e=n.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(n.container)},n.switchScrollingEffect=function(){1!==ve||Object.keys(he).length?ve||(se(he),he={},de(!0)):(de(),he=se({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},n.scrollLocker=new fe({container:ge(t.getContainer)}),n}return a(d,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=r((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;ye&&ge(n)===document.body&&(ve=t&&ve?ve-1:ve),this.removeCurrentContainer(),r.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,o=e.visible,a=null,r={getOpenCount:function(){return ve},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||o||this.componentRef.current)&&(a=D.exports.createElement(s,{getContainer:this.getContainer,ref:this.componentRef},t(r))),a}}]),d}(D.exports.Component),xe=D.exports.forwardRef((function(e,t){var n=l(!1,{value:e.visible,defaultValue:e.defaultVisible}),o=c(n,2),a=o[0],r=o[1],s=function(t,n){var o;r(t),null===(o=e.onVisibleChange)||void 0===o||o.call(e,t,n)},i=function(t){var n;s(!1,t),null===(n=e.onConfirm)||void 0===n||n.call(undefined,t)},d=function(t){var n;s(!1,t),null===(n=e.onCancel)||void 0===n||n.call(undefined,t)},m=D.exports.useContext(u).getPrefixCls,K=e.prefixCls,k=e.placement,N=e.children,E=e.overlayClassName,C=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["prefixCls","placement","children","overlayClassName"]),b=m("popover",K),w=m("popconfirm",K),S=p(w,E),P=D.exports.createElement(f,{componentName:"Popconfirm",defaultLocale:v.Popconfirm},(function(t){return function(t,n){var o=e.okButtonProps,a=e.cancelButtonProps,r=e.title,s=e.cancelText,l=e.okText,c=e.okType,u=e.icon;return D.exports.createElement("div",{className:"".concat(t,"-inner-content")},D.exports.createElement("div",{className:"".concat(t,"-message")},u,D.exports.createElement("div",{className:"".concat(t,"-message-title")},re(r))),D.exports.createElement("div",{className:"".concat(t,"-buttons")},D.exports.createElement(y,L({onClick:d,size:"small"},a),s||n.cancelText),D.exports.createElement(y,L({onClick:i},h(c),{size:"small"},o),l||n.okText)))}(b,t)})),O=m();return D.exports.createElement(A,L({},C,{prefixCls:b,placement:k,onVisibleChange:function(t){e.disabled||s(t)},visible:a,overlay:P,overlayClassName:S,ref:t,transitionName:I(O,"zoom-big",e.transitionName)}),g(N,{onKeyDown:function(e){var t,n;D.exports.isValidElement(N)&&(null===(n=null==N?void 0:(t=N.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===x.ESC&&a&&s(!1,e)}(e)}}))}));xe.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:D.exports.createElement(m,null),disabled:!1};var Ke=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ke=["key"],Ne=function(e,t){var n=e.className,o=e.style,a=e.motion,r=e.motionNodes,s=e.motionType,i=e.onMotionStart,d=e.onMotionEnd,l=e.active,u=e.treeNodeRequiredProps,f=K(e,Ke),v=D.exports.useState(!0),y=c(v,2),h=y[0],g=y[1],m=D.exports.useContext(M).prefixCls,x=D.exports.useRef(!1),N=function(){x.current||d(),x.current=!0};return D.exports.useEffect((function(){r&&"hide"===s&&h&&g(!1)}),[r]),D.exports.useEffect((function(){return r&&i(),function(){r&&N()}}),[]),r?D.exports.createElement(k,L({ref:t,visible:h},a,{motionAppear:"show"===s,onAppearEnd:N,onLeaveEnd:N}),(function(e,t){var n=e.className,o=e.style;return D.exports.createElement("div",{ref:t,className:p("".concat(m,"-treenode-motion"),n),style:o},r.map((function(e){var t=e.data,n=t.key,o=K(t,ke),a=e.isStart,r=e.isEnd;delete o.children;var s=j(n,u);return D.exports.createElement(H,L({},o,s,{active:l,data:e.data,key:n,isStart:a,isEnd:r}))})))})):D.exports.createElement(H,L({domRef:t,className:n,style:o},f,{active:l}))};Ne.displayName="MotionTreeNode";var Ee=D.exports.forwardRef(Ne);function Ce(e,t,n){var o=e.findIndex((function(e){return e.data.key===n})),a=e[o+1],r=t.findIndex((function(e){return e.data.key===n}));if(a){var s=t.findIndex((function(e){return e.data.key===a.data.key}));return t.slice(r+1,s)}return t.slice(r+1)}var be=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],we=["key"],Se={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Pe=function(){},Oe="RC_TREE_MOTION_".concat(Math.random()),De={key:Oe},Le={key:Oe,level:0,index:0,pos:"0",node:De},Te={parent:null,children:[],pos:Le.pos,data:De,isStart:[],isEnd:[]};function Re(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function Ae(e){var t=e.data.key,n=e.pos;return U(t,n)}var Ie=function(e,t){var n=e.prefixCls,o=e.data;e.selectable,e.checkable;var a=e.expandedKeys,r=e.selectedKeys,s=e.checkedKeys,i=e.loadedKeys,d=e.loadingKeys,l=e.halfCheckedKeys,u=e.keyEntities,p=e.disabled,f=e.dragging,v=e.dragOverNodeKey,y=e.dropPosition,h=e.motion,g=e.height,m=e.itemHeight,x=e.virtual,k=e.focusable,N=e.activeItem,E=e.focused,C=e.tabIndex,b=e.onKeyDown,w=e.onFocus,S=e.onBlur,P=e.onActiveChange,O=e.onListChangeStart,T=e.onListChangeEnd,R=K(e,be),A=D.exports.useRef(null),I=D.exports.useRef(null);D.exports.useImperativeHandle(t,(function(){return{scrollTo:function(e){A.current.scrollTo(e)},getIndentWidth:function(){return I.current.offsetWidth}}}));var M=D.exports.useState(a),H=c(M,2),B=H[0],q=H[1],F=D.exports.useState(o),V=c(F,2),z=V[0],_=V[1],G=D.exports.useState(o),X=c(G,2),Y=X[0],J=X[1],Q=D.exports.useState([]),Z=c(Q,2),$=Z[0],ee=Z[1],te=D.exports.useState(null),ne=c(te,2),oe=ne[0],ae=ne[1];function re(){_(o),J(o),ee([]),ae(null),T()}D.exports.useEffect((function(){q(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function a(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}(B,a);if(null!==e.key)if(e.add){var t=z.findIndex((function(t){return t.data.key===e.key})),n=Re(Ce(z,o,e.key),x,g,m),r=z.slice();r.splice(t+1,0,Te),J(r),ee(n),ae("show")}else{var s=o.findIndex((function(t){return t.data.key===e.key})),i=Re(Ce(o,z,e.key),x,g,m),d=o.slice();d.splice(s+1,0,Te),J(d),ee(i),ae("hide")}else z!==o&&(_(o),J(o))}),[a,o]),D.exports.useEffect((function(){f||re()}),[f]);var se=h?Y:o,ie={expandedKeys:a,selectedKeys:r,loadedKeys:i,loadingKeys:d,checkedKeys:s,halfCheckedKeys:l,dragOverNodeKey:v,dropPosition:y,keyEntities:u};return D.exports.createElement(D.exports.Fragment,null,E&&N&&D.exports.createElement("span",{style:Se,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(N)),D.exports.createElement("div",{role:"tree"},D.exports.createElement("input",{style:Se,disabled:!1===k||p,tabIndex:!1!==k?C:null,onKeyDown:b,onFocus:w,onBlur:S,value:"",onChange:Pe})),D.exports.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},D.exports.createElement("div",{className:"".concat(n,"-indent")},D.exports.createElement("div",{ref:I,className:"".concat(n,"-indent-unit")}))),D.exports.createElement(W,L({},R,{data:se,itemKey:Ae,height:g,fullHeight:!1,virtual:x,itemHeight:m,prefixCls:"".concat(n,"-list"),ref:A}),(function(e){var t=e.pos,n=e.data,o=n.key,a=K(n,we),r=e.isStart,s=e.isEnd,i=U(o,t);delete a.children;var d=j(i,ie);return D.exports.createElement(Ee,L({},a,d,{active:!!N&&o===N.data.key,pos:t,data:e.data,isStart:r,isEnd:s,motion:h,motionNodes:o===Oe?$:null,motionType:oe,onMotionStart:O,onMotionEnd:re,treeNodeRequiredProps:ie,onMouseMove:function(){P(null)}}))})))},Me=D.exports.forwardRef(Ie);Me.displayName="NodeList";var je,He,We=function(r){n(i,r);var s=o(i);function i(){var n;e(this,i);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=s.call.apply(s,[this].concat(a))).destroyed=!1,n.delayedDragEnterLogic=void 0,n.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],dragging:!1,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null},n.dragStartMousePosition=null,n.dragNode=void 0,n.listRef=D.exports.createRef(),n.onNodeDragStart=function(e,t){var o=n.state,a=o.expandedKeys,r=o.keyEntities,s=n.props.onDragStart,i=t.props.eventKey;n.dragNode=t,n.dragStartMousePosition={x:e.clientX,y:e.clientY};var d=B(a,i);n.setState({dragging:!0,dragChildrenKeys:q(i,r),indent:n.listRef.current.getIndentWidth()}),n.setExpandedKeys(d),window.addEventListener("dragend",n.onWindowDragEnd),s&&s({event:e,node:F(t.props)})},n.onNodeDragEnter=function(e,o){var a=n.state,r=a.expandedKeys,s=a.keyEntities,i=a.dragChildrenKeys,d=a.flattenNodes,l=a.indent,c=n.props,u=c.onDragEnter,p=c.onExpand,f=c.allowDrop,v=c.direction,y=o.props.pos,h=N(n).dragNode,g=V(e,h,o,l,n.dragStartMousePosition,f,d,s,r,v),m=g.dropPosition,x=g.dropLevelOffset,K=g.dropTargetKey,k=g.dropContainerKey,E=g.dropTargetPos,C=g.dropAllowed,b=g.dragOverNodeKey;h&&-1===i.indexOf(K)&&C?(n.delayedDragEnterLogic||(n.delayedDragEnterLogic={}),Object.keys(n.delayedDragEnterLogic).forEach((function(e){clearTimeout(n.delayedDragEnterLogic[e])})),h.props.eventKey!==o.props.eventKey&&(e.persist(),n.delayedDragEnterLogic[y]=window.setTimeout((function(){if(n.state.dragging){var a=t(r),i=s[o.props.eventKey];i&&(i.children||[]).length&&(a=z(r,o.props.eventKey)),"expandedKeys"in n.props||n.setExpandedKeys(a),p&&p(a,{node:F(o.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),h.props.eventKey!==K||0!==x?(n.setState({dragOverNodeKey:b,dropPosition:m,dropLevelOffset:x,dropTargetKey:K,dropContainerKey:k,dropTargetPos:E,dropAllowed:C}),u&&u({event:e,node:F(o.props),expandedKeys:r})):n.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})):n.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},n.onNodeDragOver=function(e,t){var o=n.state,a=o.dragChildrenKeys,r=o.flattenNodes,s=o.keyEntities,i=o.expandedKeys,d=o.indent,l=n.props,c=l.onDragOver,u=l.allowDrop,p=l.direction,f=N(n).dragNode,v=V(e,f,t,d,n.dragStartMousePosition,u,r,s,i,p),y=v.dropPosition,h=v.dropLevelOffset,g=v.dropTargetKey,m=v.dropContainerKey,x=v.dropAllowed,K=v.dropTargetPos,k=v.dragOverNodeKey;f&&-1===a.indexOf(g)&&x&&(f.props.eventKey===g&&0===h?null===n.state.dropPosition&&null===n.state.dropLevelOffset&&null===n.state.dropTargetKey&&null===n.state.dropContainerKey&&null===n.state.dropTargetPos&&!1===n.state.dropAllowed&&null===n.state.dragOverNodeKey||n.setState({dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1,dragOverNodeKey:null}):y===n.state.dropPosition&&h===n.state.dropLevelOffset&&g===n.state.dropTargetKey&&m===n.state.dropContainerKey&&K===n.state.dropTargetPos&&x===n.state.dropAllowed&&k===n.state.dragOverNodeKey||n.setState({dropPosition:y,dropLevelOffset:h,dropTargetKey:g,dropContainerKey:m,dropTargetPos:K,dropAllowed:x,dragOverNodeKey:k}),c&&c({event:e,node:F(t.props)}))},n.onNodeDragLeave=function(e,t){var o=n.props.onDragLeave;o&&o({event:e,node:F(t.props)})},n.onWindowDragEnd=function(e){n.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",n.onWindowDragEnd)},n.onNodeDragEnd=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=n.props.onDragEnd;n.setState({dragOverNodeKey:null}),n.cleanDragState(),a&&!o&&a({event:e,node:F(t.props)}),n.dragNode=null},n.onNodeDrop=function(e,t){var o,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n.state,s=r.dragChildrenKeys,i=r.dropPosition,d=r.dropTargetKey,l=r.dropTargetPos,c=r.dropAllowed;if(c){var u=n.props.onDrop;if(n.setState({dragOverNodeKey:null}),n.cleanDragState(),null!==d){var p=E(E({},j(d,n.getTreeNodeRequiredProps())),{},{active:(null===(o=n.getActiveItem())||void 0===o?void 0:o.data.key)===d,data:n.state.keyEntities[d].node}),f=-1!==s.indexOf(d);C(!f,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var v=_(l),y={event:e,node:F(p),dragNode:n.dragNode?F(n.dragNode.props):null,dragNodesKeys:[n.dragNode.props.eventKey].concat(s),dropToGap:0!==i,dropPosition:i+Number(v[v.length-1])};u&&!a&&u(y),n.dragNode=null}}},n.cleanDragState=function(){n.state.dragging&&n.setState({dragging:!1,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),n.dragStartMousePosition=null},n.onNodeClick=function(e,t){var o=n.props.onClick;o&&o(e,t)},n.onNodeDoubleClick=function(e,t){var o=n.props.onDoubleClick;o&&o(e,t)},n.onNodeSelect=function(e,t){var o=n.state.selectedKeys,a=n.state.keyEntities,r=n.props,s=r.onSelect,i=r.multiple,d=t.selected,l=t.key,c=!d,u=(o=c?i?z(o,l):[l]:B(o,l)).map((function(e){var t=a[e];return t?t.node:null})).filter((function(e){return e}));n.setUncontrolledState({selectedKeys:o}),s&&s(o,{event:"select",selected:c,node:t,selectedNodes:u,nativeEvent:e.nativeEvent})},n.onNodeCheck=function(e,o,a){var r,s=n.state,i=s.keyEntities,d=s.checkedKeys,l=s.halfCheckedKeys,c=n.props,u=c.checkStrictly,p=c.onCheck,f=o.key,v={event:"check",node:o,checked:a,nativeEvent:e.nativeEvent};if(u){var y=a?z(d,f):B(d,f);r={checked:y,halfChecked:B(l,f)},v.checkedNodes=y.map((function(e){return i[e]})).filter((function(e){return e})).map((function(e){return e.node})),n.setUncontrolledState({checkedKeys:y})}else{var h=G([].concat(t(d),[f]),!0,i),g=h.checkedKeys,m=h.halfCheckedKeys;if(!a){var x=new Set(g);x.delete(f);var K=G(Array.from(x),{checked:!1,halfCheckedKeys:m},i);g=K.checkedKeys,m=K.halfCheckedKeys}r=g,v.checkedNodes=[],v.checkedNodesPositions=[],v.halfCheckedKeys=m,g.forEach((function(e){var t=i[e];if(t){var n=t.node,o=t.pos;v.checkedNodes.push(n),v.checkedNodesPositions.push({node:n,pos:o})}})),n.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:m})}p&&p(r,v)},n.onNodeLoad=function(e){return new Promise((function(t,o){n.setState((function(a){var r=a.loadedKeys,s=void 0===r?[]:r,i=a.loadingKeys,d=void 0===i?[]:i,l=n.props,c=l.loadData,u=l.onLoad,p=e.key;return c&&-1===s.indexOf(p)&&-1===d.indexOf(p)?(c(e).then((function(){var o=n.state,a=o.loadedKeys,r=o.loadingKeys,s=z(a,p),i=B(r,p);u&&u(s,{event:"load",node:e}),n.setUncontrolledState({loadedKeys:s}),n.setState({loadingKeys:i}),t()})).catch((function(e){var t=n.state.loadingKeys,a=B(t,p);n.setState({loadingKeys:a}),o(e)})),{loadingKeys:z(d,p)}):null}))}))},n.onNodeMouseEnter=function(e,t){var o=n.props.onMouseEnter;o&&o({event:e,node:t})},n.onNodeMouseLeave=function(e,t){var o=n.props.onMouseLeave;o&&o({event:e,node:t})},n.onNodeContextMenu=function(e,t){var o=n.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:t}))},n.onFocus=function(){var e=n.props.onFocus;n.setState({focused:!0}),e&&e.apply(void 0,arguments)},n.onBlur=function(){var e=n.props.onBlur;n.setState({focused:!1}),n.onActiveChange(null),e&&e.apply(void 0,arguments)},n.getTreeNodeRequiredProps=function(){var e=n.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}},n.setExpandedKeys=function(e){var t=n.state.treeData,o=X(t,e);n.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)},n.onNodeExpand=function(e,t){var o=n.state.expandedKeys,a=n.state.listChanging,r=n.props,s=r.onExpand,i=r.loadData,d=t.key,l=t.expanded;if(!a){var c=o.indexOf(d),u=!l;if(C(l&&-1!==c||!l&&-1===c,"Expand state not sync with index check"),o=u?z(o,d):B(o,d),n.setExpandedKeys(o),s&&s(o,{node:t,expanded:u,nativeEvent:e.nativeEvent}),u&&i){var p=n.onNodeLoad(t);p&&p.then((function(){var e=X(n.state.treeData,o);n.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=n.state.expandedKeys,t=B(e,d);n.setExpandedKeys(t)}))}}},n.onListChangeStart=function(){n.setUncontrolledState({listChanging:!0})},n.onListChangeEnd=function(){setTimeout((function(){n.setUncontrolledState({listChanging:!1})}))},n.onActiveChange=function(e){var t=n.state.activeKey,o=n.props.onActiveChange;t!==e&&(n.setState({activeKey:e}),null!==e&&n.scrollTo({key:e}),o&&o(e))},n.getActiveItem=function(){var e=n.state,t=e.activeKey,o=e.flattenNodes;return null===t?null:o.find((function(e){return e.data.key===t}))||null},n.offsetActiveKey=function(e){var t=n.state,o=t.flattenNodes,a=t.activeKey,r=o.findIndex((function(e){return e.data.key===a}));-1===r&&e<0&&(r=o.length);var s=o[r=(r+e+o.length)%o.length];if(s){var i=s.data.key;n.onActiveChange(i)}else n.onActiveChange(null)},n.onKeyDown=function(e){var t=n.state,o=t.activeKey,a=t.expandedKeys,r=t.checkedKeys,s=n.props,i=s.onKeyDown,d=s.checkable,l=s.selectable;switch(e.which){case x.UP:n.offsetActiveKey(-1),e.preventDefault();break;case x.DOWN:n.offsetActiveKey(1),e.preventDefault()}var c=n.getActiveItem();if(c&&c.data){var u=n.getTreeNodeRequiredProps(),p=!1===c.data.isLeaf||!!(c.data.children||[]).length,f=F(E(E({},j(o,u)),{},{data:c.data,active:!0}));switch(e.which){case x.LEFT:p&&a.includes(o)?n.onNodeExpand({},f):c.parent&&n.onActiveChange(c.parent.data.key),e.preventDefault();break;case x.RIGHT:p&&!a.includes(o)?n.onNodeExpand({},f):c.children&&c.children.length&&n.onActiveChange(c.children[0].data.key),e.preventDefault();break;case x.ENTER:case x.SPACE:!d||f.disabled||!1===f.checkable||f.disableCheckbox?d||!l||f.disabled||!1===f.selectable||n.onNodeSelect({},f):n.onNodeCheck({},f,!r.includes(o))}}i&&i(e)},n.setUncontrolledState=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n.destroyed){var a=!1,r=!0,s={};Object.keys(e).forEach((function(t){t in n.props?r=!1:(a=!0,s[t]=e[t])})),!a||t&&!r||n.setState(E(E({},s),o))}},n.scrollTo=function(e){n.listRef.current.scrollTo(e)},n}return a(i,[{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"render",value:function(){var e,t=this.state,n=t.focused,o=t.flattenNodes,a=t.keyEntities,r=t.dragging,s=t.activeKey,i=t.dropLevelOffset,d=t.dropContainerKey,l=t.dropTargetKey,c=t.dropPosition,u=t.dragOverNodeKey,f=t.indent,v=this.props,y=v.prefixCls,h=v.className,g=v.style,m=v.showLine,x=v.focusable,K=v.tabIndex,k=void 0===K?0:K,N=v.selectable,E=v.showIcon,C=v.icon,w=v.switcherIcon,S=v.draggable,P=v.checkable,O=v.checkStrictly,T=v.disabled,R=v.motion,A=v.loadData,I=v.filterTreeNode,j=v.height,H=v.itemHeight,W=v.virtual,U=v.titleRender,B=v.dropIndicatorRender,q=v.onContextMenu,F=v.direction,V=ee(this.props);return D.exports.createElement(M.Provider,{value:{prefixCls:y,selectable:N,showIcon:E,icon:C,switcherIcon:w,draggable:S,checkable:P,checkStrictly:O,disabled:T,keyEntities:a,dropLevelOffset:i,dropContainerKey:d,dropTargetKey:l,dropPosition:c,dragOverNodeKey:u,indent:f,direction:F,dropIndicatorRender:B,loadData:A,filterTreeNode:I,titleRender:U,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},D.exports.createElement("div",{className:p(y,h,(e={},b(e,"".concat(y,"-show-line"),m),b(e,"".concat(y,"-focused"),n),b(e,"".concat(y,"-active-focused"),null!==s),e))},D.exports.createElement(Me,L({ref:this.listRef,prefixCls:y,style:g,data:o,disabled:T,selectable:N,checkable:!!P,motion:R,dragging:r,height:j,itemHeight:H,virtual:W,focusable:x,focused:n,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q},this.getTreeNodeRequiredProps(),V))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,a={prevProps:e};function r(t){return!o&&t in e||o&&o[t]!==e[t]}if(r("treeData")?n=e.treeData:r("children")&&(C(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=Y(e.children)),n){a.treeData=n;var s=J(n);a.keyEntities=E(b({},Oe,Le),s.keyEntities)}var i,d=a.keyEntities||t.keyEntities;if(r("expandedKeys")||o&&r("autoExpandParent"))a.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?Q(e.expandedKeys,d):e.expandedKeys;else if(!o&&e.defaultExpandAll){var l=E({},d);delete l[Oe],a.expandedKeys=Object.keys(l).map((function(e){return l[e].key}))}else!o&&e.defaultExpandedKeys&&(a.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Q(e.defaultExpandedKeys,d):e.defaultExpandedKeys);if(a.expandedKeys||delete a.expandedKeys,n||a.expandedKeys){var c=X(n||t.treeData,a.expandedKeys||t.expandedKeys);a.flattenNodes=c}if((e.selectable&&(r("selectedKeys")?a.selectedKeys=Z(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(a.selectedKeys=Z(e.defaultSelectedKeys,e))),e.checkable)&&(r("checkedKeys")?i=$(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?i=$(e.defaultCheckedKeys)||{}:n&&(i=$(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),i)){var u=i,p=u.checkedKeys,f=void 0===p?[]:p,v=u.halfCheckedKeys,y=void 0===v?[]:v;if(!e.checkStrictly){var h=G(f,!0,d);f=h.checkedKeys,y=h.halfCheckedKeys}a.checkedKeys=f,a.halfCheckedKeys=y}return r("loadedKeys")&&(a.loadedKeys=e.loadedKeys),a}}]),i}(D.exports.Component);function Ue(e,t){e.forEach((function(e){var n=e.key,o=e.children;!1!==t(n,e)&&Ue(o||[],t)}))}function Be(e){var t=e.treeData,n=e.expandedKeys,o=e.startKey,a=e.endKey,r=[],s=je.None;if(o&&o===a)return[o];if(!o||!a)return[];return Ue(t,(function(e){if(s===je.End)return!1;if(function(e){return e===o||e===a}(e)){if(r.push(e),s===je.None)s=je.Start;else if(s===je.Start)return s=je.End,!1}else s===je.Start&&r.push(e);return-1!==n.indexOf(e)})),r}function qe(e,n){var o=t(n),a=[];return Ue(e,(function(e,t){var n=o.indexOf(e);return-1!==n&&(a.push(t),o.splice(n,1)),!!o.length})),a}We.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:a.top=0,a.left=-n*o;break;case 1:a.bottom=0,a.left=-n*o;break;case 0:a.bottom=0,a.left=o}return D.exports.createElement("div",{style:a})},allowDrop:function(){return!0}},We.TreeNode=H,(He=je||(je={}))[He.None=0]="None",He[He.Start=1]="Start",He[He.End=2]="End";var Fe=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n};function Ve(e){var t=e.isLeaf,n=e.expanded;return t?D.exports.createElement(ne,null):n?D.exports.createElement(oe,null):D.exports.createElement(ae,null)}function ze(e){var t=e.treeData,n=e.children;return t||Y(n)}var _e=function(e,n){var o=e.defaultExpandAll,a=e.defaultExpandParent,r=e.defaultExpandedKeys,s=Fe(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),i=D.exports.useRef(),d=D.exports.useRef(),l=D.exports.createRef();D.exports.useImperativeHandle(n,(function(){return l.current}));var f,v=D.exports.useState(s.selectedKeys||s.defaultSelectedKeys||[]),y=c(v,2),h=y[0],g=y[1],m=D.exports.useState((f=J(ze(s)).keyEntities,o?Object.keys(f):a?Q(s.expandedKeys||r,f):s.expandedKeys||r)),x=c(m,2),K=x[0],k=x[1];D.exports.useEffect((function(){"selectedKeys"in s&&g(s.selectedKeys)}),[s.selectedKeys]),D.exports.useEffect((function(){"expandedKeys"in s&&k(s.expandedKeys)}),[s.expandedKeys]);var N=w((function(e,t){t.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey||l.current.onNodeExpand(e,t)}),200,{leading:!0}),E=D.exports.useContext(u),C=E.getPrefixCls,S=E.direction,P=s.prefixCls,O=s.className,T=Fe(s,["prefixCls","className"]),R=C("tree",P),A=p("".concat(R,"-directory"),b({},"".concat(R,"-directory-rtl"),"rtl"===S),O);return D.exports.createElement(at,L({icon:Ve,ref:l,blockNode:!0},T,{prefixCls:R,className:A,expandedKeys:K,selectedKeys:h,onSelect:function(e,n){var o,a,r=s.multiple,l=n.node,c=n.nativeEvent,u=l.key,p=void 0===u?"":u,f=ze(s),v=L(L({},n),{selected:!0}),y=c.ctrlKey||c.metaKey,h=c.shiftKey;r&&y?(a=e,i.current=p,d.current=a,v.selectedNodes=qe(f,a)):r&&h?(a=Array.from(new Set([].concat(t(d.current||[]),t(Be({treeData:f,expandedKeys:K,startKey:p,endKey:i.current}))))),v.selectedNodes=qe(f,a)):(a=[p],i.current=p,d.current=a,v.selectedNodes=qe(f,a)),null===(o=s.onSelect)||void 0===o||o.call(s,a,v),"selectedKeys"in s||g(a)},onClick:function(e,t){var n;"click"===s.expandAction&&N(e,t),null===(n=s.onClick)||void 0===n||n.call(s,e,t)},onDoubleClick:function(e,t){var n;"doubleClick"===s.expandAction&&N(e,t),null===(n=s.onDoubleClick)||void 0===n||n.call(s,e,t)},onExpand:function(e,t){var n;return"expandedKeys"in s||k(e),null===(n=s.onExpand)||void 0===n?void 0:n.call(s,e,t)}}))},Ge=D.exports.forwardRef(_e);Ge.displayName="DirectoryTree",Ge.defaultProps={showIcon:!0,expandAction:"click"};var Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},Ye=function(e,t){return D.exports.createElement(S,Object.assign({},e,{ref:t,icon:Xe}))};Ye.displayName="MinusSquareOutlined";var Je=D.exports.forwardRef(Ye),Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},Ze=function(e,t){return D.exports.createElement(S,Object.assign({},e,{ref:t,icon:Qe}))};Ze.displayName="PlusSquareOutlined";var $e=D.exports.forwardRef(Ze),et={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},tt=function(e,t){return D.exports.createElement(S,Object.assign({},e,{ref:t,icon:et}))};tt.displayName="CaretDownFilled";var nt=D.exports.forwardRef(tt);function ot(e){var t,n=e.dropPosition,o=e.dropLevelOffset,a=e.prefixCls,r=e.indent,s=e.direction,i=void 0===s?"ltr":s,d="ltr"===i?"left":"right",l="ltr"===i?"right":"left",c=(b(t={},d,-o*r+4),b(t,l,0),t);switch(n){case-1:c.top=-3;break;case 1:c.bottom=-3;break;default:c.bottom=-3,c[d]=r+4}return T.createElement("div",{style:c,className:"".concat(a,"-drop-indicator")})}var at=D.exports.forwardRef((function(e,t){var n,o=D.exports.useContext(u),a=o.getPrefixCls,r=o.direction,s=o.virtual,i=e.prefixCls,l=e.className,c=e.showIcon,f=e.showLine,v=e.switcherIcon,y=e.blockNode,h=e.children,m=e.checkable,x=e.selectable,K=a("tree",i),k=L(L({},e),{showLine:Boolean(f),dropIndicatorRender:ot});return D.exports.createElement(We,L({itemHeight:20,ref:t,virtual:s},k,{prefixCls:K,className:p((n={},b(n,"".concat(K,"-icon-hide"),!c),b(n,"".concat(K,"-block-node"),y),b(n,"".concat(K,"-unselectable"),!x),b(n,"".concat(K,"-rtl"),"rtl"===r),n),l),direction:r,checkable:m?D.exports.createElement("span",{className:"".concat(K,"-checkbox-inner")}):m,selectable:x,switcherIcon:function(e){return function(e,t,n,o){var a,r=o.isLeaf,s=o.expanded;if(o.loading)return D.exports.createElement(P,{className:"".concat(e,"-switcher-loading-icon")});if(n&&"object"===d(n)&&(a=n.showLeafIcon),r)return n?"object"!==d(n)||a?D.exports.createElement(ne,{className:"".concat(e,"-switcher-line-icon")}):D.exports.createElement("span",{className:"".concat(e,"-switcher-leaf-line")}):null;var i="".concat(e,"-switcher-icon");return O(t)?g(t,{className:p(t.props.className||"",i)}):t||(n?s?D.exports.createElement(Je,{className:"".concat(e,"-switcher-line-icon")}):D.exports.createElement($e,{className:"".concat(e,"-switcher-line-icon")}):D.exports.createElement(nt,{className:i}))}(K,v,f,e)}}),h)}));at.TreeNode=H,at.DirectoryTree=Ge,at.defaultProps={checkable:!1,selectable:!0,showIcon:!1,motion:L(L({},te),{motionAppear:!1}),blockNode:!1};export{me as P,at as T,xe as a,re as g};
