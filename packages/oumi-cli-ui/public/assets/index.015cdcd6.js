var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,c=(t,n,o)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[n]=o,s=(e,t)=>{for(var n in t||(t={}))r.call(t,n)&&c(e,n,t[n]);if(o)for(var n of o(t))a.call(t,n)&&c(e,n,t[n]);return e},l=(e,o)=>t(e,n(o));import{G as i,i as u,m as f,u as m,R as d,L as p}from"./vendor.88f6b8e8.js";import{_ as v,a as x,b as g,c as h,d as y,e as E,f as b,g as C,h as k,C as N,r as w,j as T,k as P,l as O,E as S,m as j,n as L,o as R,p as M,q as I,w as A,P as z,s as B,t as F,v as D,x as H,K as V,y as U,z as W,A as q,B as K,D as X,F as Y,I as _,u as G,S as $,T as J,i as Z,G as Q}from"./index.a5148aad.js";import{r as ee}from"./index.d47f764b.js";import{B as te,c as ne,g as oe,a as re,F as ae,I as ce}from"./conductUtil.a65dd83b.js";import{P as se,T as le}from"./Tree.4d682869.js";import{g as ie,a as ue,p as fe}from"./getScrollBarSize.1ed6416c.js";import"./FolderOutlined.242f1f56.js";var me=function(e){v(n,e);var t=x(n);function n(){var e;return g(this,n),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return h(n,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.description,o=e.children,r=this.state,a=r.error,c=r.info,s=c&&c.componentStack?c.componentStack:null,l=void 0===t?(a||"").toString():t,u=void 0===n?s:n;return a?i.exports.createElement(ve,{type:"error",message:l,description:i.exports.createElement("pre",null,u)}):o}}]),n}(i.exports.Component),de={success:T,info:P,error:O,warning:S},pe={success:j,info:L,error:R,warning:M},ve=function(e){var t,n,o=e.description,r=e.prefixCls,a=e.message,c=e.banner,s=e.className,l=void 0===s?"":s,f=e.style,m=e.onMouseEnter,d=e.onMouseLeave,p=e.onClick,v=e.afterClose,x=e.showIcon,g=e.closable,h=e.closeText,T=e.action,P=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),O=i.exports.useState(!1),S=y(O,2),j=S[0],L=S[1],R=i.exports.useRef(),M=i.exports.useContext(E),I=M.getPrefixCls,A=M.direction,z=I("alert",r),B=function(e){var t;L(!0),null===(t=P.onClose)||void 0===t||t.call(P,e)},F=!!h||g,D=void 0!==(n=P.type)?n:c?"warning":"info",H=!(!c||void 0!==x)||x,V=b(z,"".concat(z,"-").concat(D),(C(t={},"".concat(z,"-with-description"),!!o),C(t,"".concat(z,"-no-icon"),!H),C(t,"".concat(z,"-banner"),!!c),C(t,"".concat(z,"-rtl"),"rtl"===A),t),l),U=ie(P);return i.exports.createElement(k,{visible:!j,motionName:"".concat(z,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:v},(function(e){var t,n,r=e.className,c=e.style;return i.exports.createElement("div",u({ref:R,"data-show":!j,className:b(V,r),style:u(u({},f),c),onMouseEnter:m,onMouseLeave:d,onClick:p,role:"alert"},U),H?(t=P.icon,n=(o?pe:de)[D]||null,t?w(t,i.exports.createElement("span",{className:"".concat(z,"-icon")},t),(function(){return{className:b("".concat(z,"-icon"),C({},t.props.className,t.props.className))}})):i.exports.createElement(n,{className:"".concat(z,"-icon")})):null,i.exports.createElement("div",{className:"".concat(z,"-content")},i.exports.createElement("div",{className:"".concat(z,"-message")},a),i.exports.createElement("div",{className:"".concat(z,"-description")},o)),T?i.exports.createElement("div",{className:"".concat(z,"-action")},T):null,F?i.exports.createElement("button",{type:"button",onClick:B,className:"".concat(z,"-close-icon"),tabIndex:0},h?i.exports.createElement("span",{className:"".concat(z,"-close-text")},h):i.exports.createElement(N,null)):null)}))};function xe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return{};var n=t.element,o=void 0===n?document.body:n,r={},a=Object.keys(e);return a.forEach((function(e){r[e]=o.style[e]})),a.forEach((function(t){o.style[t]=e[t]})),r}ve.ErrorBoundary=me;var ge={},he=function(e){if(document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth||e){var t="ant-scrolling-effect",n=new RegExp("".concat(t),"g"),o=document.body.className;if(e){if(!n.test(o))return;return xe(ge),ge={},void(document.body.className=o.replace(n,"").trim())}var r=ue();if(r&&(ge=xe({position:"relative",width:"calc(100% - ".concat(r,"px)")}),!n.test(o))){var a="".concat(o," ").concat(t);document.body.className=a.trim()}}},ye=[],Ee=new RegExp("".concat("ant-scrolling-effect"),"g"),be=0,Ce=new Map,ke=function e(t){var n=this;g(this,e),this.lockTarget=void 0,this.options=void 0,this.getContainer=function(){var e;return null===(e=n.options)||void 0===e?void 0:e.container},this.reLock=function(e){var t=ye.find((function(e){return e.target===n.lockTarget}));t&&n.unLock(),n.options=e,t&&(t.options=e,n.lock())},this.lock=function(){var e;if(!ye.some((function(e){return e.target===n.lockTarget})))if(ye.some((function(e){var t,o=e.options;return(null==o?void 0:o.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})))ye=[].concat(I(ye),[{target:n.lockTarget,options:n.options}]);else{var t=0,o=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body;(o===document.body&&window.innerWidth-document.documentElement.clientWidth>0||o.scrollHeight>o.clientHeight)&&(t=ue());var r=o.className;if(0===ye.filter((function(e){var t,o=e.options;return(null==o?void 0:o.container)===(null===(t=n.options)||void 0===t?void 0:t.container)})).length&&Ce.set(o,xe({width:0!==t?"calc(100% - ".concat(t,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:o})),!Ee.test(r)){var a="".concat(r," ").concat("ant-scrolling-effect");o.className=a.trim()}ye=[].concat(I(ye),[{target:n.lockTarget,options:n.options}])}},this.unLock=function(){var e,t=ye.find((function(e){return e.target===n.lockTarget}));if(ye=ye.filter((function(e){return e.target!==n.lockTarget})),t&&!ye.some((function(e){var n,o=e.options;return(null==o?void 0:o.container)===(null===(n=t.options)||void 0===n?void 0:n.container)}))){var o=(null===(e=n.options)||void 0===e?void 0:e.container)||document.body,r=o.className;Ee.test(r)&&(xe(Ce.get(o),{element:o}),Ce.delete(o),o.className=o.className.replace(Ee,"").trim())}},this.lockTarget=be++,this.options=t},Ne=0,we=B(),Te={},Pe=function(e){if(!we)return null;if(e){if("string"==typeof e)return document.querySelectorAll(e)[0];if("function"==typeof e)return e();if("object"===F(e)&&e instanceof window.HTMLElement)return e}return document.body},Oe=function(e){v(n,e);var t=x(n);function n(e){var o;return g(this,n),(o=t.call(this,e)).container=void 0,o.componentRef=i.exports.createRef(),o.rafId=void 0,o.scrollLocker=void 0,o.renderComponent=void 0,o.updateScrollLocker=function(e){var t=(e||{}).visible,n=o.props,r=n.getContainer,a=n.visible;a&&a!==t&&we&&Pe(r)!==o.scrollLocker.getContainer()&&o.scrollLocker.reLock({container:Pe(r)})},o.updateOpenCount=function(e){var t=e||{},n=t.visible,r=t.getContainer,a=o.props,c=a.visible,s=a.getContainer;c!==n&&we&&Pe(s)===document.body&&(c&&!n?Ne+=1:e&&(Ne-=1)),("function"==typeof s&&"function"==typeof r?s.toString()!==r.toString():s!==r)&&o.removeCurrentContainer()},o.attachToParent=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||o.container&&!o.container.parentNode){var t=Pe(o.props.getContainer);return!!t&&(t.appendChild(o.container),!0)}return!0},o.getContainer=function(){return we?(o.container||(o.container=document.createElement("div"),o.attachToParent(!0)),o.setWrapperClassName(),o.container):null},o.setWrapperClassName=function(){var e=o.props.wrapperClassName;o.container&&e&&e!==o.container.className&&(o.container.className=e)},o.removeCurrentContainer=function(){var e,t;null===(e=o.container)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(o.container)},o.switchScrollingEffect=function(){1!==Ne||Object.keys(Te).length?Ne||(xe(Te),Te={},he(!0)):(he(),Te=xe({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}))},o.scrollLocker=new ke({container:Pe(e.getContainer)}),o}return h(n,[{key:"componentDidMount",value:function(){var e=this;this.updateOpenCount(),this.attachToParent()||(this.rafId=A((function(){e.forceUpdate()})))}},{key:"componentDidUpdate",value:function(e){this.updateOpenCount(e),this.updateScrollLocker(e),this.setWrapperClassName(),this.attachToParent()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visible,n=e.getContainer;we&&Pe(n)===document.body&&(Ne=t&&Ne?Ne-1:Ne),this.removeCurrentContainer(),A.cancel(this.rafId)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.forceRender,o=e.visible,r=null,a={getOpenCount:function(){return Ne},getContainer:this.getContainer,switchScrollingEffect:this.switchScrollingEffect,scrollLocker:this.scrollLocker};return(n||o||this.componentRef.current)&&(r=i.exports.createElement(z,{getContainer:this.getContainer,ref:this.componentRef},t(a))),r}}]),n}(i.exports.Component);function Se(e){var t=e.prefixCls,n=e.style,o=e.visible,r=e.maskProps,a=e.motionName;return i.exports.createElement(k,{key:"mask",visible:o,motionName:a,leavedClassName:"".concat(t,"-mask-hidden")},(function(e){var o=e.className,a=e.style;return i.exports.createElement("div",u({style:D(D({},a),n),className:b("".concat(t,"-mask"),o)},r))}))}function je(e,t,n){var o=t;return!o&&n&&(o="".concat(e,"-").concat(n)),o}var Le=-1;function Re(e,t){var n=e["page".concat(t?"Y":"X","Offset")],o="scroll".concat(t?"Top":"Left");if("number"!=typeof n){var r=e.document;"number"!=typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}var Me=i.exports.memo((function(e){return e.children}),(function(e,t){return!t.shouldUpdate})),Ie={width:0,height:0,overflow:"hidden",outline:"none"},Ae=i.exports.forwardRef((function(e,t){var n=e.closable,o=e.prefixCls,r=e.width,a=e.height,c=e.footer,s=e.title,l=e.closeIcon,f=e.style,m=e.className,d=e.visible,p=e.forceRender,v=e.bodyStyle,x=e.bodyProps,g=e.children,h=e.destroyOnClose,E=e.modalRender,C=e.motionName,N=e.ariaId,w=e.onClose,T=e.onVisibleChanged,P=e.onMouseDown,O=e.onMouseUp,S=e.mousePosition,j=i.exports.useRef(),L=i.exports.useRef(),R=i.exports.useRef();i.exports.useImperativeHandle(t,(function(){return{focus:function(){var e;null===(e=j.current)||void 0===e||e.focus()},changeActive:function(e){var t=document.activeElement;e&&t===L.current?j.current.focus():e||t!==j.current||L.current.focus()}}}));var M,I,A,z=i.exports.useState(),B=y(z,2),F=B[0],H=B[1],V={};function U(){var e,t,n,o,r,a=(e=R.current,t=e.getBoundingClientRect(),n={left:t.left,top:t.top},o=e.ownerDocument,r=o.defaultView||o.parentWindow,n.left+=Re(r),n.top+=Re(r,!0),n);H(S?"".concat(S.x-a.left,"px ").concat(S.y-a.top,"px"):"")}void 0!==r&&(V.width=r),void 0!==a&&(V.height=a),F&&(V.transformOrigin=F),c&&(M=i.exports.createElement("div",{className:"".concat(o,"-footer")},c)),s&&(I=i.exports.createElement("div",{className:"".concat(o,"-header")},i.exports.createElement("div",{className:"".concat(o,"-title"),id:N},s))),n&&(A=i.exports.createElement("button",{type:"button",onClick:w,"aria-label":"Close",className:"".concat(o,"-close")},l||i.exports.createElement("span",{className:"".concat(o,"-close-x")})));var W=i.exports.createElement("div",{className:"".concat(o,"-content")},A,I,i.exports.createElement("div",u({className:"".concat(o,"-body"),style:v},x),g),M);return i.exports.createElement(k,{visible:d,onVisibleChanged:T,onAppearPrepare:U,onEnterPrepare:U,forceRender:p,motionName:C,removeOnLeave:h,ref:R},(function(e,t){var n=e.className,r=e.style;return i.exports.createElement("div",{key:"dialog-element",role:"document",ref:t,style:D(D(D({},r),f),V),className:b(o,m,n),onMouseDown:P,onMouseUp:O},i.exports.createElement("div",{tabIndex:0,ref:j,style:Ie,"aria-hidden":"true"}),i.exports.createElement(Me,{shouldUpdate:d||p},E?E(W):W),i.exports.createElement("div",{tabIndex:0,ref:L,style:Ie,"aria-hidden":"true"}))}))}));function ze(e){var t=e.prefixCls,n=void 0===t?"rc-dialog":t,o=e.zIndex,r=e.visible,a=void 0!==r&&r,c=e.keyboard,s=void 0===c||c,l=e.focusTriggerAfterClose,f=void 0===l||l,m=e.scrollLocker,d=e.title,p=e.wrapStyle,v=e.wrapClassName,x=e.wrapProps,g=e.onClose,h=e.afterClose,E=e.transitionName,C=e.animation,k=e.closable,N=void 0===k||k,w=e.mask,T=void 0===w||w,P=e.maskTransitionName,O=e.maskAnimation,S=e.maskClosable,j=void 0===S||S,L=e.maskStyle,R=e.maskProps,M=i.exports.useRef(),I=i.exports.useRef(),A=i.exports.useRef(),z=i.exports.useState(a),B=y(z,2),F=B[0],U=B[1],W=i.exports.useRef();function q(e){null==g||g(e)}W.current||(W.current="rcDialogTitle".concat(Le+=1));var K=i.exports.useRef(!1),X=i.exports.useRef(),Y=null;return j&&(Y=function(e){K.current?K.current=!1:I.current===e.target&&q(e)}),i.exports.useEffect((function(){return a&&U(!0),function(){}}),[a]),i.exports.useEffect((function(){return function(){clearTimeout(X.current)}}),[]),i.exports.useEffect((function(){return F?(null==m||m.lock(),null==m?void 0:m.unLock):function(){}}),[F,m]),i.exports.createElement("div",u({className:"".concat(n,"-root")},fe(e,{data:!0})),i.exports.createElement(Se,{prefixCls:n,visible:T&&a,motionName:je(n,P,O),style:D({zIndex:o},L),maskProps:R}),i.exports.createElement("div",u({tabIndex:-1,onKeyDown:function(e){if(s&&e.keyCode===V.ESC)return e.stopPropagation(),void q(e);a&&e.keyCode===V.TAB&&A.current.changeActive(!e.shiftKey)},className:b("".concat(n,"-wrap"),v),ref:I,onClick:Y,role:"dialog","aria-labelledby":d?W.current:null,style:D(D({zIndex:o},p),{},{display:F?null:"none"})},x),i.exports.createElement(Ae,u({},e,{onMouseDown:function(){clearTimeout(X.current),K.current=!0},onMouseUp:function(){X.current=setTimeout((function(){K.current=!1}))},ref:A,closable:N,ariaId:W.current,prefixCls:n,visible:a,onClose:q,onVisibleChanged:function(e){if(e){var t;if(!H(I.current,document.activeElement))M.current=document.activeElement,null===(t=A.current)||void 0===t||t.focus()}else{if(U(!1),T&&M.current&&f){try{M.current.focus({preventScroll:!0})}catch(n){}M.current=null}F&&(null==h||h())}},motionName:je(n,E,C)}))))}Ae.displayName="Content";var Be=function(e){var t=e.visible,n=e.getContainer,o=e.forceRender,r=e.destroyOnClose,a=void 0!==r&&r,c=e.afterClose,s=i.exports.useState(t),l=y(s,2),f=l[0],m=l[1];return i.exports.useEffect((function(){t&&m(!0)}),[t]),!1===n?i.exports.createElement(ze,u({},e,{getOpenCount:function(){return 2}})):o||!a||f?i.exports.createElement(Oe,{visible:t,forceRender:o,getContainer:n},(function(t){return i.exports.createElement(ze,u({},e,{destroyOnClose:a,afterClose:function(){null==c||c(),m(!1)}},t))})):null};Be.displayName="Dialog";var Fe=function(e){var t=i.exports.useRef(!1),n=i.exports.useRef(),o=i.exports.useState(!1),r=y(o,2),a=r[0],c=r[1];i.exports.useEffect((function(){var t;if(e.autoFocus){var o=n.current;t=setTimeout((function(){return o.focus()}))}return function(){t&&clearTimeout(t)}}),[]);var s=e.type,l=e.children,f=e.prefixCls,m=e.buttonProps;return i.exports.createElement(te,u({},ne(s),{onClick:function(){var n=e.actionFn,o=e.closeModal;if(!t.current)if(t.current=!0,n){var r;if(n.length)r=n(o),t.current=!1;else if(!(r=n()))return void o();!function(n){var o=e.closeModal;n&&n.then&&(c(!0),n.then((function(){o.apply(void 0,arguments)}),(function(e){console.error(e),c(!1),t.current=!1})))}(r)}else o()},loading:a,prefixCls:f},m,{ref:n}),l)},De=function(e){var t=e.icon,n=e.onCancel,o=e.onOk,r=e.close,a=e.zIndex,c=e.afterClose,s=e.visible,l=e.keyboard,u=e.centered,f=e.getContainer,m=e.maskStyle,d=e.okText,p=e.okButtonProps,v=e.cancelText,x=e.cancelButtonProps,g=e.direction,h=e.prefixCls,y=e.rootPrefixCls,E=e.bodyStyle,k=e.closable,N=void 0!==k&&k,w=e.closeIcon,T=e.modalRender,P=e.focusTriggerAfterClose;U(!("string"==typeof t&&t.length>2),"Modal","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(t,"` at https://ant.design/components/icon"));var O=e.okType||"primary",S="".concat(h,"-confirm"),j=!("okCancel"in e)||e.okCancel,L=e.width||416,R=e.style||{},M=void 0===e.mask||e.mask,I=void 0!==e.maskClosable&&e.maskClosable,A=null!==e.autoFocusButton&&(e.autoFocusButton||"ok"),z=b(S,"".concat(S,"-").concat(e.type),C({},"".concat(S,"-rtl"),"rtl"===g),e.className),B=j&&i.exports.createElement(Fe,{actionFn:n,closeModal:r,autoFocus:"cancel"===A,buttonProps:x,prefixCls:"".concat(y,"-btn")},v);return i.exports.createElement(Qe,{prefixCls:h,className:z,wrapClassName:b(C({},"".concat(S,"-centered"),!!e.centered)),onCancel:function(){return r({triggerCancel:!0})},visible:s,title:"",footer:"",transitionName:oe(y,"zoom",e.transitionName),maskTransitionName:oe(y,"fade",e.maskTransitionName),mask:M,maskClosable:I,maskStyle:m,style:R,width:L,zIndex:a,afterClose:c,keyboard:l,centered:u,getContainer:f,closable:N,closeIcon:w,modalRender:T,focusTriggerAfterClose:P},i.exports.createElement("div",{className:"".concat(S,"-body-wrapper")},i.exports.createElement(W,{prefixCls:y},i.exports.createElement("div",{className:"".concat(S,"-body"),style:E},t,void 0===e.title?null:i.exports.createElement("span",{className:"".concat(S,"-title")},e.title),i.exports.createElement("div",{className:"".concat(S,"-content")},e.content))),i.exports.createElement("div",{className:"".concat(S,"-btns")},B,i.exports.createElement(Fe,{type:O,actionFn:o,closeModal:r,autoFocus:"ok"===A,buttonProps:p,prefixCls:"".concat(y,"-btn")},d))))},He=function(e,t){var n=e.afterClose,o=e.config,r=i.exports.useState(!0),a=y(r,2),c=a[0],s=a[1],l=i.exports.useState(o),f=y(l,2),m=f[0],d=f[1],p=i.exports.useContext(E),v=p.direction,x=p.getPrefixCls,g=x("modal"),h=x();function b(){s(!1);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.some((function(e){return e&&e.triggerCancel}));m.onCancel&&o&&m.onCancel()}return i.exports.useImperativeHandle(t,(function(){return{destroy:b,update:function(e){d((function(t){return u(u({},t),e)}))}}})),i.exports.createElement(q,{componentName:"Modal",defaultLocale:K.Modal},(function(e){return i.exports.createElement(De,u({prefixCls:g,rootPrefixCls:h},m,{close:b,visible:c,afterClose:n,okText:m.okText||(m.okCancel?e.okText:e.justOkText),direction:v,cancelText:m.cancelText||e.cancelText}))}))},Ve=i.exports.forwardRef(He),Ue="";function We(e){var t=document.createElement("div");document.body.appendChild(t);var n=u(u({},e),{close:a,visible:!0});function o(){var n=f.exports.unmountComponentAtNode(t);n&&t.parentNode&&t.parentNode.removeChild(t);for(var o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];var s=r.some((function(e){return e&&e.triggerCancel}));e.onCancel&&s&&e.onCancel.apply(e,r);for(var l=0;l<Ze.length;l++){var i=Ze[l];if(i===a){Ze.splice(l,1);break}}}function r(e){var n=e.okText,o=e.cancelText,r=e.prefixCls,a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["okText","cancelText","prefixCls"]);setTimeout((function(){var e=X(),c=(0,Y().getPrefixCls)(void 0,Ue),s=r||"".concat(c,"-modal");f.exports.render(i.exports.createElement(De,u({},a,{prefixCls:s,rootPrefixCls:c,okText:n||(a.okCancel?e.okText:e.justOkText),cancelText:o||e.cancelText})),t)}))}function a(){for(var t=this,a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];r(n=u(u({},n),{visible:!1,afterClose:function(){"function"==typeof e.afterClose&&e.afterClose(),o.apply(t,c)}}))}return r(n),Ze.push(a),{destroy:a,update:function(e){r(n="function"==typeof e?e(n):u(u({},n),e))}}}function qe(e){return u(u({icon:i.exports.createElement(M,null),okCancel:!1},e),{type:"warning"})}function Ke(e){return u(u({icon:i.exports.createElement(L,null),okCancel:!1},e),{type:"info"})}function Xe(e){return u(u({icon:i.exports.createElement(j,null),okCancel:!1},e),{type:"success"})}function Ye(e){return u(u({icon:i.exports.createElement(R,null),okCancel:!1},e),{type:"error"})}function _e(e){return u(u({icon:i.exports.createElement(M,null),okCancel:!0},e),{type:"confirm"})}var Ge=0,$e=i.exports.memo(i.exports.forwardRef((function(e,t){var n=function(){var e=i.exports.useState([]),t=y(e,2),n=t[0],o=t[1];return[n,i.exports.useCallback((function(e){return o((function(t){return[].concat(I(t),[e])})),function(){o((function(t){return t.filter((function(t){return t!==e}))}))}}),[])]}(),o=y(n,2),r=o[0],a=o[1];return i.exports.useImperativeHandle(t,(function(){return{patchElement:a}}),[]),i.exports.createElement(i.exports.Fragment,null,r)})));var Je,Ze=[];re()&&document.documentElement.addEventListener("click",(function(e){Je={x:e.pageX,y:e.pageY},setTimeout((function(){Je=null}),100)}),!0);var Qe=function(e){var t,n=i.exports.useContext(E),o=n.getPopupContainer,r=n.getPrefixCls,a=n.direction,c=function(t){var n=e.onCancel;null==n||n(t)},s=function(t){var n=e.onOk;null==n||n(t)},l=function(t){var n=e.okText,o=e.okType,r=e.cancelText,a=e.confirmLoading;return i.exports.createElement(i.exports.Fragment,null,i.exports.createElement(te,u({onClick:c},e.cancelButtonProps),r||t.cancelText),i.exports.createElement(te,u({},ne(o),{loading:a,onClick:s},e.okButtonProps),n||t.okText))},f=e.prefixCls,m=e.footer,d=e.visible,p=e.wrapClassName,v=e.centered,x=e.getContainer,g=e.closeIcon,h=e.focusTriggerAfterClose,y=void 0===h||h,k=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["prefixCls","footer","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"]),w=r("modal",f),T=r(),P=i.exports.createElement(q,{componentName:"Modal",defaultLocale:X()},l),O=i.exports.createElement("span",{className:"".concat(w,"-close-x")},g||i.exports.createElement(N,{className:"".concat(w,"-close-icon")})),S=b(p,(C(t={},"".concat(w,"-centered"),!!v),C(t,"".concat(w,"-wrap-rtl"),"rtl"===a),t));return i.exports.createElement(Be,u({},k,{getContainer:void 0===x?o:x,prefixCls:w,wrapClassName:S,footer:void 0===m?P:m,visible:d,mousePosition:Je,onClose:c,closeIcon:O,focusTriggerAfterClose:y,transitionName:oe(T,"zoom",e.transitionName),maskTransitionName:oe(T,"fade",e.maskTransitionName)}))};function et(e){return We(qe(e))}Qe.useModal=function(){var e=i.exports.useRef(null),t=i.exports.useState([]),n=y(t,2),o=n[0],r=n[1];i.exports.useEffect((function(){o.length&&(I(o).forEach((function(e){e()})),r([]))}),[o]);var a=i.exports.useCallback((function(t){return function(n){var o;Ge+=1;var a,c=i.exports.createRef(),s=i.exports.createElement(Ve,{key:"modal-".concat(Ge),config:t(n),ref:c,afterClose:function(){a()}});return a=null===(o=e.current)||void 0===o?void 0:o.patchElement(s),{destroy:function(){function e(){var e;null===(e=c.current)||void 0===e||e.destroy()}c.current?e():r((function(t){return[].concat(I(t),[e])}))},update:function(e){function t(){var t;null===(t=c.current)||void 0===t||t.update(e)}c.current?t():r((function(e){return[].concat(I(e),[t])}))}}}}),[]);return[i.exports.useMemo((function(){return{info:a(Ke),success:a(Xe),error:a(Ye),warning:a(qe),confirm:a(_e)}}),[]),i.exports.createElement($e,{ref:e})]},Qe.defaultProps={width:520,confirmLoading:!1,visible:!1,okType:"primary"};var tt=Qe;tt.info=function(e){return We(Ke(e))},tt.success=function(e){return We(Xe(e))},tt.error=function(e){return We(Ye(e))},tt.warning=et,tt.warn=et,tt.confirm=function(e){return We(_e(e))},tt.destroyAll=function(){for(;Ze.length;){var e=Ze.pop();e&&e()}},tt.config=function(e){var t=e.rootPrefixCls;U(!1,"Modal","Modal.config is deprecated. Please use ConfigProvider.config instead."),Ue=t};var nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917.7 148.8l-42.4-42.4c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-76.1 76.1a199.27 199.27 0 00-112.1-34.3c-51.2 0-102.4 19.5-141.5 58.6L432.3 308.7a8.03 8.03 0 000 11.3L704 591.7c1.6 1.6 3.6 2.3 5.7 2.3 2 0 4.1-.8 5.7-2.3l101.9-101.9c68.9-69 77-175.7 24.3-253.5l76.1-76.1c3.1-3.2 3.1-8.3 0-11.4zM769.1 441.7l-59.4 59.4-186.8-186.8 59.4-59.4c24.9-24.9 58.1-38.7 93.4-38.7 35.3 0 68.4 13.7 93.4 38.7 24.9 24.9 38.7 58.1 38.7 93.4 0 35.3-13.8 68.4-38.7 93.4zm-190.2 105a8.03 8.03 0 00-11.3 0L501 613.3 410.7 523l66.7-66.7c3.1-3.1 3.1-8.2 0-11.3L441 408.6a8.03 8.03 0 00-11.3 0L363 475.3l-43-43a7.85 7.85 0 00-5.7-2.3c-2 0-4.1.8-5.7 2.3L206.8 534.2c-68.9 69-77 175.7-24.3 253.5l-76.1 76.1a8.03 8.03 0 000 11.3l42.4 42.4c1.6 1.6 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3l76.1-76.1c33.7 22.9 72.9 34.3 112.1 34.3 51.2 0 102.4-19.5 141.5-58.6l101.9-101.9c3.1-3.1 3.1-8.2 0-11.3l-43-43 66.7-66.7c3.1-3.1 3.1-8.2 0-11.3l-36.6-36.2zM441.7 769.1a131.32 131.32 0 01-93.4 38.7c-35.3 0-68.4-13.7-93.4-38.7a131.32 131.32 0 01-38.7-93.4c0-35.3 13.7-68.4 38.7-93.4l59.4-59.4 186.8 186.8-59.4 59.4z"}}]},name:"api",theme:"outlined"},ot=function(e,t){return i.exports.createElement(_,Object.assign({},e,{ref:t,icon:nt}))};ot.displayName="ApiOutlined";var rt=i.exports.forwardRef(ot),at={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M946.5 505L534.6 93.4a31.93 31.93 0 00-45.2 0L77.5 505c-12 12-18.8 28.3-18.8 45.3 0 35.3 28.7 64 64 64h43.4V908c0 17.7 14.3 32 32 32H448V716h112v224h265.9c17.7 0 32-14.3 32-32V614.3h43.4c17 0 33.3-6.7 45.3-18.8 24.9-25 24.9-65.5-.1-90.5z"}}]},name:"home",theme:"filled"},ct=function(e,t){return i.exports.createElement(_,Object.assign({},e,{ref:t,icon:at}))};ct.displayName="HomeFilled";var st=i.exports.forwardRef(ct),lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},it=function(e,t){return i.exports.createElement(_,Object.assign({},e,{ref:t,icon:lt}))};it.displayName="SettingOutlined";var ut=i.exports.forwardRef(it),ft={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 312H696v-16c0-101.6-82.4-184-184-184s-184 82.4-184 184v16H192c-17.7 0-32 14.3-32 32v536c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V344c0-17.7-14.3-32-32-32zm-432-16c0-61.9 50.1-112 112-112s112 50.1 112 112v16H400v-16zm392 544H232V384h96v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h224v88c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-88h96v456z"}}]},name:"shopping",theme:"outlined"},mt=function(e,t){return i.exports.createElement(_,Object.assign({},e,{ref:t,icon:ft}))};mt.displayName="ShoppingOutlined";var dt=i.exports.forwardRef(mt),pt=e=>{const t=m(),{goProjectList:n,selectItem:o}=e,r=[{name:"资产",path:"/dashboard",icon:d.createElement(dt,null)},{name:"Swagger",path:"/dashboard/swagger",icon:d.createElement(rt,null)},{name:"配置",path:"/dashboard/config",icon:d.createElement(ut,null)}];return d.createElement("div",{className:"ui-slider"},d.createElement("header",{onClick:n},d.createElement("div",{className:"icon",title:"Oumi 项目过滤器"},d.createElement(st,{style:{fontSize:18}})),d.createElement("div",{className:"project-name"},o&&o.name)),d.createElement("div",{className:"slider-list"},r.map((e=>d.createElement("div",{className:"slider-list-item "+(t.location.pathname===e.path?"active":""),key:e.path},d.createElement(p,{to:e.path},e.icon,e.name))))))};const{TabPane:vt}=J;var xt=e=>{const{item:t,addToProject:n}=e,[o,r]=i.exports.useState({}),{data:a,loading:c,request:s,setData:l}=G("/api/block/getListFormGit",{lazy:!0});return i.exports.useEffect((()=>{t&&t.href&&s({url:t.href,useBuiltJSON:!0})}),[]),i.exports.useEffect((()=>{if(!a||!Array.isArray(a))return;const e={};a.forEach((t=>{const{tags:n}=t;n.forEach((n=>{e[n]?e[n].push(t):e[n]=[t]}))})),r(e)}),[a]),c?d.createElement($,null):d.createElement("div",{className:"blocks-container"},d.createElement(J,{type:"card"},o&&Object.keys(o).map((e=>{const t=o[e];return d.createElement(vt,{forceRender:!1,tab:e,key:e},d.createElement("div",{className:"blocks-list"},t&&t.map((e=>d.createElement("div",{className:"blocks-list__item",key:e.path},d.createElement("div",{className:"handler"},d.createElement("span",{onClick:()=>n(e)},"添加到项目")),d.createElement("div",{className:"img"},d.createElement("img",{src:e.img,alt:""})),d.createElement("p",null,e.name))))))}))))},gt=e=>{const{selectNode:t,onSuccess:n}=e,{dirPath:o}=t||{},[r]=ae.useForm(),[a,c]=d.useState(!1),{data:l,request:i,loading:u}=G("/api/project/createDir",{lazy:!0}),f=e=>{c(e)};return d.createElement(se,{title:()=>d.createElement("div",null,d.createElement(ae,{form:r,className:"my-popconfirm-form"},d.createElement(ae.Item,{name:"dirName",label:"目录名称",rules:[{required:!0,message:"请输入目录名称"},{pattern:/^[a-zA-Z0-9_-]+$/,message:"请输入正确的目录名称"}]},d.createElement(ce,null)))),visible:a,onConfirm:()=>{r.validateFields().then((e=>{i(s({currentPath:o},e)).then((e=>{c(!1),"function"==typeof n&&n()}))}))},placement:"left",okButtonProps:{loading:u},onCancel:()=>f(!1),icon:!1},d.createElement(te,{size:"small",type:"primary",disabled:!t,onClick:()=>f(!0)},"新建目录"))};function ht(e,t,n){return e.map((e=>e.key===t?l(s({},e),{children:n}):e.children?l(s({},e),{children:ht(e.children,t,n)}):e))}var yt=e=>{const{onSelect:t}=e,[n,o]=i.exports.useState([]),[r,a]=i.exports.useState(null),c=e=>Z.post("/api/project/dirs",e),s=()=>{c().then((e=>{o(e)}))};function l({key:e,children:t,dirPath:n}){return new Promise((r=>{t?r():c({currentPath:n}).then((t=>{Array.isArray(t)&&o((n=>ht(n,e,t))),r()}))}))}i.exports.useEffect((()=>{s()}),[]);return d.createElement("div",{className:"dirs"},d.createElement("div",{className:"dirs-box"},d.createElement(gt,{selectNode:r,onSuccess:()=>{r&&r.key?l({key:r.key,dirPath:r.key}):s()}}),d.createElement(le,{showLine:!0,showIcon:!0,loadData:l,treeData:n,onSelect:(e,n)=>{const{selected:o,node:r}=n,{isLeaf:c}=r;a(o&&!c?r:null),t&&"function"==typeof t&&t(n)}})))};const Et=e=>{const t=m(),{modalData:n,setModalVisible:o}=e,r=n&&n.name?`${null==n?void 0:n.name} - 添加到项目`:"添加到项目",[a,c]=i.exports.useState(null),{data:s,loading:l,request:u}=G("/api/block/downloadFile",{lazy:!0});return d.createElement(d.Fragment,null,d.createElement(tt,{title:r,visible:!!n,onOk:()=>{a&&n&&u({destPath:null==a?void 0:a.dirPath,url:n.url}).then((e=>{e?Q.success("下载文件完成"):Q.error("下载文件异常"),o(null)})).catch((e=>{Q.destroy(),999===e.code?tt.confirm({title:"限速提示!",icon:d.createElement(M,null),content:e.msg,onOk:()=>{t.push("/dashboard/config?key=3")}}):Q.error(e.msg||"请求超时，请重试~")}))},onCancel:()=>{o(null)},okButtonProps:{disabled:!a,loading:l},okText:"确认下载",cancelText:"取消"},d.createElement(ve,{message:"温馨提示：该功能会下载远程文件，请耐心等待！😀😀😀",type:"warning"}),d.createElement("br",null),d.createElement(yt,{onSelect:e=>{const{selected:t,node:n}=e,{isLeaf:o}=n;t&&!o&&c(n)}})))};const{TabPane:bt}=J;export default e=>{const{route:t={}}=e,[n,o]=i.exports.useState(null),r=m(),a="/dashboard"===r.location.pathname,{data:c,error:s,request:l}=G("/api/dashboard/init",{errorMsg:!1}),{data:u=[],request:f}=G("/api/block/getList",{lazy:!0});i.exports.useEffect((()=>{a&&f()}),[r,r.location]),i.exports.useEffect((()=>{s&&r.replace("/project/select")}),[s]);const v=e=>{o(e)};return s?d.createElement("div",{style:{padding:50}},d.createElement(p,{to:"/project/select"},"选择项目")):d.createElement("div",{className:"dashboard-main"},d.createElement(pt,{goProjectList:()=>{r.push("/project/select")},selectItem:c}),d.createElement("div",{className:"dashboard-body"},ee(t.routes),a&&d.createElement("div",{className:"content"},d.createElement("div",{className:"ui-dashboard-content"},d.createElement("div",{className:"top-header"},d.createElement("h2",null,"资产")),d.createElement("div",{className:"ui-content-container ui-main-container"},d.createElement(J,{type:"line",defaultActiveKey:"1",tabPosition:"left"},u&&u.map((e=>d.createElement(bt,{forceRender:!1,tab:d.createElement("span",null," ",d.createElement(dt,null)," ",e.name," "),key:e.id,closable:!1},d.createElement(xt,{item:e,addToProject:v})))))))),d.createElement(Et,{modalData:n,setModalVisible:o})))};
